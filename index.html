<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Galería 360°</title>
<link rel="icon" href="https://img.icons8.com/fluency/10000/360-view.png">
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css" />

<style>
:root {
  --bg: 15 18 25;
  --ink: 235 238 245;
  --glass-alpha: .14;
  --blur: 16px;
  --ring: 255 255 255;
}

* { box-sizing: border-box; }

html, body {
  height: 100%;
  margin: 0;
  font: 500 16px/1.4 'Lato', sans-serif;
  color: rgb(var(--ink));
  overflow-x: hidden;
}

body {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background:
    radial-gradient(1200px 700px at 15% 10%, rgba(99,102,241,.22), transparent 60%),
    radial-gradient(900px 600px at 85% 0%, rgba(34,197,94,.20), transparent 60%),
    radial-gradient(1000px 700px at 50% 100%, rgba(56,189,248,.20), transparent 55%),
    linear-gradient(180deg, rgb(7 9 14), rgb(12 14 22));
  background-attachment: fixed;
  padding-top: clamp(72px,10vh,120px);
}

/* ---------- HEADER ---------- */

header { 
  opacity:0;
  transform:translateY(-40px);
  animation: slideDown .6s forwards ease-out; 
  position: fixed;
  top: 0;
  left:0;
  right:0;
  height: clamp(72px,50vh,120px); 
  display: grid;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  gap:16px;
  padding:12px clamp(16px,5vw,48px);
  z-index:50; 
  background: color-mix(in oklab, rgba(var(--bg)/var(--glass-alpha)), transparent); 
  backdrop-filter: saturate(160%) blur(var(--blur));
  -webkit-backdrop-filter: saturate(160%) blur(var(--blur));
  border-bottom:1px solid color-mix(in oklab, rgba(var(--ink)/.08), transparent);
  box-shadow:0 1px 0 rgba(255,255,255,.06) inset, 0 10px 30px rgba(0,0,0,.06); 
  overflow: clip;
  isolation: isolate;
}

.brand { font-weight:700; opacity:.9; }

.title {
  grid-column:1 / -1;
  text-align:center;
  font-weight:800;
  line-height:.95;
  letter-spacing:-0.02em;
  font-size:clamp(28px,6.4vw,64px);
  text-shadow:0 1px 8px rgba(255,255,255,.06);
}

/* ---------- MAIN ---------- */

main {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 40px 20px;
}

.iframe-grid {
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap:24px;
  max-width:600px;
  width:100%;
  margin:0 auto;
}

@media(max-width:768px){
  .iframe-grid {
    grid-template-columns:1fr;
    max-width:90%;
  }
}

.pano-container {
  width:100%;
  aspect-ratio:1/1;
  border-radius:12px;
  background:#000;
  opacity:0;
  transform:scale(.8);
  animation: popUp .5s forwards ease-out;
}

@keyframes popUp {
  to { opacity:1; transform:scale(1); }
}

/* ---------- FOOTER ---------- */

footer {
  opacity:0;
  transform:translateY(40px);
  animation: slideUp .6s forwards ease-out;
  text-align: center;
  padding:24px 16px;
  font-size:14px;
  color: rgba(235,238,245,.6);
  background: color-mix(in oklab, rgba(var(--bg)/var(--glass-alpha)), transparent);
  backdrop-filter: saturate(160%) blur(var(--blur));
  -webkit-backdrop-filter: saturate(160%) blur(var(--blur));
  border-top:1px solid color-mix(in oklab, rgba(var(--ink)/.08), transparent);
  box-shadow:0 -1px 0 rgba(255,255,255,.06) inset, 0 -10px 30px rgba(0,0,0,.06);
  isolation: isolate;
  overflow: clip;
}

@keyframes slideDown { to { opacity:1; transform:translateY(0); } }
@keyframes slideUp { to { opacity:1; transform:translateY(0); } }

/* ---------- HALO ---------- */

.glass-header::before,
footer::before {
  content:"";
  position:absolute;
  inset:-40% -10%;
  pointer-events:none;
  background: radial-gradient(200px 200px at var(--mx) var(--my), rgba(var(--ring)/.55), transparent 60%);
  filter: blur(18px) saturate(130%);
  opacity:0;
  transition: opacity .25s ease;
  mix-blend-mode: screen;
}

.glass-header.is-hot::before,
footer.is-hot::before {
  opacity:1;
}

a { text-decoration:none; color:white; }
a:visited, a:hover, a:active { color:white; }
</style>
</head>

<body>

<header class="glass-header" id="cabecera">
  <div class="brand">Oracle System</div>
  <div></div>
  <div class="title">GALERÍA 360°</div>
</header>

<br><br>
<font align="center" color="#ff0000">NO HAY IMÁGENES 360 PUBLICADAS POR AHORA</font>

<main>
  <div class="iframe-grid">
    <div id="pano1" class="pano-container"></div>
<!-- ACTUALIZAR PANO -->
  </div>
</main>

<footer id="footer">
  &copy; 2025 Oracle Quantum. Powered by Oracle.
</footer>

<script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>

<script>
/* ALERT */
window.addEventListener('load', () => {
  alert('Consejo: En dispositivos táctiles use los laterales para poder desplazarse por la página.°');
});

/* PANORAMAS */
const panoramas = [
  {id:'pano1', img:'https://i.postimg.cc/pR1KfbCF/malla-cuadricula-cuadrados-repetible-costura-patron-papel-trazado-grafico-grategrating-celosia-regul.jpg'}
  /* AÑADIR COMA EN LAS LLAVES ANTERIORES
  USAR: }, EXCEPTO EL ÚLTIMO, RENOMBRAR PANO Y ACTUALIZAR EN EL PANO */
];

const viewers = {};

panoramas.forEach((p,i)=>{
  viewers[p.id] = pannellum.viewer(p.id,{
    type:"equirectangular",
    panorama:p.img,
    autoLoad:true,
    showZoomCtrl:true,
    showFullscreenCtrl:true,
    dragPanEnabled:true,
    mouseZoom:true,
    keyboardZoom:true,
    touchPanSpeed:0
  });
  const panoEl = document.getElementById(p.id);
  panoEl.style.animationDelay = `${i * 0.1}s`;

  let fingers = 0;

  panoEl.addEventListener('touchstart', e => {
    fingers = e.touches.length;
    if(fingers > 1){
      viewers[p.id].setOption('dragPanEnabled', false);
    }
  });

  panoEl.addEventListener('touchmove', e => {
    fingers = e.touches.length;
    if(fingers > 1){
      return;
    }
  });

  panoEl.addEventListener('touchend', e => {
    fingers = e.touches.length;
    if(fingers === 0 || fingers === 1){
      viewers[p.id].setOption('dragPanEnabled', true);
    }
  });
});

/* HALO REACTIVO */
function throttle(fn, wait){
  let last=0;
  return (...args)=>{
    const now=performance.now();
    if(now-last>=wait){
      last=now;
      fn(...args);
    }
  };
}

function bindReactiveLight(el){
  const move = throttle(ev=>{
    const r = el.getBoundingClientRect();
    const x = (ev.touches?ev.touches[0].clientX:ev.clientX) - r.left;
    const y = (ev.touches?ev.touches[0].clientY:ev.clientY) - r.top;
    el.style.setProperty('--mx', `${x}px`);
    el.style.setProperty('--my', `${y}px`);
    el.classList.add('is-hot');
  },16);

  el.addEventListener('pointermove', move);
  el.addEventListener('pointerleave', ()=>el.classList.remove('is-hot'));
  el.addEventListener('touchmove', move, {passive:true});
  el.addEventListener('touchend', ()=>el.classList.remove('is-hot'));
}

bindReactiveLight(document.getElementById('cabecera'));
bindReactiveLight(document.getElementById('footer'));
</script>

</body>
</html>